* { box-sizing: border-box; }
#html,body{ height:100%; margin:0; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
/* Mars-like background */
html,body{ height:100%; margin:0; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background: radial-gradient(circle at 30% 20%, #2a0606 0%, #5a0f0f 30%, #9a2f2a 60%, #ff8a4d 100%); }
#game-wrap{ max-width:1000px; margin:24px auto; position:relative; }
#game-wrap canvas{ display:block; width:100%; height:auto; border-radius:12px; box-shadow: 0 6px 30px rgba(0,0,0,0.25); }
#game-wrap canvas{ background: linear-gradient(180deg, #4b0f0f 0%, #8a2b26 40%, #ffb07a 100%); }
#hud{ position:absolute; left:12px; top:12px; color:#111; display:flex; gap:12px; align-items:center; }
#info{ background:rgba(255,255,255,0.9); padding:6px 10px; border-radius:8px; font-size:14px; }
#stats{ display:none; }
/* lives: show small gnome icons */
#lives{ display:flex; gap:6px; align-items:center; margin-left:8px; }
.life{ width:20px; height:20px; background: radial-gradient(circle at 40% 30%, #ffd7b5 0%, #ffcc99 40%, transparent 60%); border-radius:50%; position:relative; box-shadow: inset 0 -2px 0 rgba(0,0,0,0.08); }
.life::after{ content:''; position:absolute; left:2px; right:2px; top:6px; height:8px; background:#d94c67; border-radius:6px; }

.lives-label{ font-weight:700; margin-right:8px; background: rgba(255,255,255,0.9); padding:4px 8px; border-radius:8px; font-size:14px; }
/* splash / loading screen */
#splash{ position:fixed; left:0; right:0; top:0; bottom:0; display:flex; align-items:center; justify-content:center; background:linear-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.2)); z-index:2000; }
#splash.hidden{ display:none; }
#splash-inner{ background: rgba(255,255,255,0.95); padding:28px; border-radius:12px; text-align:center; box-shadow:0 12px 40px rgba(0,0,0,0.25); }
#splash-title{ margin:0; font-size:48px; letter-spacing:1px; color:#fff; font-weight:900; font-family: 'Orbitron', 'Impact', 'Arial Black', sans-serif; position:relative; text-shadow: 0 6px 18px rgba(0,0,0,0.6); }
/* spraypaint effect */
#splash-title::after{ content:''; position:absolute; left:0; right:0; top:6px; bottom:-6px; background:radial-gradient(circle at 20% 20%, rgba(255,90,120,0.18), transparent 10%), radial-gradient(circle at 80% 60%, rgba(255,200,90,0.12), transparent 10%); mix-blend-mode:screen; z-index:-1; }
#splash-sub{ margin:10px 0 18px 0; color:#444; }
#play-btn{ padding:10px 18px; border-radius:10px; border:0; background:#ff6b6b; color:white; font-weight:700; font-size:16px; cursor:pointer; }

#overlay{ position:fixed; left:0; right:0; top:0; bottom:0; display:flex; align-items:center; justify-content:center; z-index:2100; }
#overlay.hidden{ display:none; }
#overlay-content{ background:white; padding:24px; border-radius:12px; box-shadow:0 8px 40px rgba(0,0,0,0.2); text-align:center; min-width:280px; }
#overlay-content h1{ margin:0 0 8px 0; }
#restart{ margin-top:12px; padding:8px 14px; border-radius:8px; border:0; background:#ff7b7b; color:white; font-weight:600; cursor:pointer; }

/* small controls legend for mobile */
.controls{ position:absolute; right:12px; top:12px; background:rgba(255,255,255,0.9); padding:6px 10px; border-radius:8px; font-size:13px; }

/* ensure canvas will fit nicely on small screens */
@media (max-width:640px){ #overlay-content{ min-width:220px; } }

/* touch controls */
#touch-controls{ position:fixed; left:50%; transform:translateX(-50%); bottom:18px; display:flex; gap:12px; z-index:1600; }
.touch-btn{ width:64px; height:64px; border-radius:12px; border:0; background:linear-gradient(180deg,#ffd7b5,#ffcc99); font-size:22px; box-shadow:0 8px 18px rgba(0,0,0,0.18); }
.touch-btn.active{ transform: translateY(2px) scale(0.98); box-shadow: inset 0 3px 8px rgba(0,0,0,0.18); }
.hidden{ display:none !important; }

/* small diagnostics box for debugging clicks/loop during development */
#diag{ position: absolute; left:12px; bottom:12px; background: rgba(0,0,0,0.6); color: #fff; padding:6px 10px; border-radius:8px; font-size:13px; z-index:1200; }

/* game-over visual: grayscale and subdued */
#game-wrap.game-over{ filter: grayscale(100%) contrast(0.9) brightness(0.85); }
#game-wrap.game-over canvas{ opacity:0.85; }
